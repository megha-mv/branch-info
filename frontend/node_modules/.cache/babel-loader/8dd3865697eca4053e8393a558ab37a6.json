{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\megha\\\\Desktop\\\\assignment\\\\frontend\\\\src\\\\components\\\\NewCust.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport { io } from 'socket.io-client';\n\nconst NewCust = () => {\n  _s();\n\n  const initial = {\n    contact: \"\",\n    pincode: ''\n  };\n  const [userContact, setUserContact] = useState(initial);\n  const [users, setUsers] = useState([]);\n  const [socket, setSocket] = useState(null);\n  useEffect(() => {\n    setSocket(io(\"http://localhost:5000\"));\n  }, []);\n  useEffect(() => {\n    socket === null || socket === void 0 ? void 0 : socket.emit(\"newBranch\", userContact.contact);\n  }, [socket, userContact.contact]);\n  let name, value;\n\n  const handleInputs = e => {\n    // console.log(e);\n    name = e.target.name;\n    value = e.target.value;\n    setUserContact({ ...userContact,\n      [name]: value\n    });\n  };\n\n  const fetchData = async () => {\n    // e.preventDefault();\n    fetch(\"/branches\").then(response => {\n      return response.json();\n    }).then(data => {\n      setUsers(data);\n    });\n  };\n\n  useEffect(() => {\n    fetchData();\n  }, []);\n  const tableRows = users.map((info, i) => {\n    return /*#__PURE__*/React.createElement(\"tr\", {\n      key: i,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 9\n      }\n    }, info.branchName), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 9\n      }\n    }, info.pincode), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 9\n      }\n    }, info.place), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 9\n      }\n    }, info.userName));\n  });\n\n  const handleNotification = () => {\n    socket.emit(\"sendNotification\", {\n      senderName: userContact.contact,\n      msg: \"Hello\"\n    });\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 7\n    }\n  }, \"New Customer Contact Form\"), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"form\", {\n    method: \"GET\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 15\n    }\n  }, \"Contact number:\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"number\",\n    name: \"contact\",\n    id: \"contact\",\n    value: userContact.contact,\n    placeholder: \"Enter your contact number\",\n    onChange: handleInputs,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 15\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 15\n    }\n  }), /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 15\n    }\n  }, \"Pincode:\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"array\",\n    name: \"pincode\",\n    id: \"pincode\",\n    value: userContact.pincode,\n    placeholder: \"Enter pincode of the area\",\n    onChange: handleInputs,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 15\n    }\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    onClick: handleNotification,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 15\n    }\n  }, \"Contact Us\"))), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"table\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"thead\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"tr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 13\n    }\n  }, \"BranchName\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 13\n    }\n  }, \"Pincode\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 13\n    }\n  }, \"Place\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 13\n    }\n  }, \"Branch Manager\"))), /*#__PURE__*/React.createElement(\"tbody\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 9\n    }\n  }, tableRows)))));\n};\n\n_s(NewCust, \"/tPEF7uS4MkbIJw40jOrh6btou4=\");\n\n_c = NewCust;\nexport default NewCust;\n\nvar _c;\n\n$RefreshReg$(_c, \"NewCust\");","map":{"version":3,"sources":["C:/Users/megha/Desktop/assignment/frontend/src/components/NewCust.js"],"names":["React","useState","useEffect","io","NewCust","initial","contact","pincode","userContact","setUserContact","users","setUsers","socket","setSocket","emit","name","value","handleInputs","e","target","fetchData","fetch","then","response","json","data","tableRows","map","info","i","branchName","place","userName","handleNotification","senderName","msg"],"mappings":"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","sourcesContent":["import React,{useState,useEffect} from 'react';\r\n\r\nimport {io} from 'socket.io-client'\r\n\r\nconst NewCust = () => {\r\n\r\n  const initial = {\r\n    contact:\"\",\r\n    pincode:'',\r\n  }\r\n\r\n  const [userContact,setUserContact] = useState(initial)\r\n  const [users, setUsers] = useState([])\r\n  const [socket, setSocket] = useState(null);\r\n\r\n  \r\n  useEffect(() => {\r\n    setSocket(io(\"http://localhost:5000\"));    \r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    socket?.emit(\"newBranch\", userContact.contact );\r\n  }, [socket, userContact.contact]);\r\n\r\n  let name, value;\r\n\r\n  const handleInputs = (e) => {\r\n    // console.log(e);\r\n    name = e.target.name;\r\n    value = e.target.value;\r\n\r\n    setUserContact({ ...userContact, [name]: value });\r\n  };\r\n\r\n  const fetchData = async () =>{\r\n\r\n    // e.preventDefault();\r\n    fetch(\"/branches\")\r\n      .then(response => {\r\n        return response.json()\r\n      })\r\n      .then(data => {\r\n        setUsers(data)\r\n      })\r\n  }\r\n\r\n  useEffect(() => {\r\n    fetchData()\r\n  },[])\r\n\r\n\r\n  const tableRows = users.map((info,i) => {\r\n    return (\r\n      <tr key={i}>\r\n        <td>{info.branchName}</td>\r\n        <td>{info.pincode}</td>\r\n        <td>{info.place}</td>\r\n        <td>{info.userName}</td>\r\n      </tr>\r\n    );\r\n  });\r\n\r\n  const handleNotification = () =>{\r\n    socket.emit(\"sendNotification\",{\r\n      senderName : userContact.contact,\r\n      msg : \"Hello\",\r\n    })\r\n  }\r\n\r\n\r\n  return (\r\n    <div>\r\n      <h1>New Customer Contact Form</h1>\r\n      <div>\r\n          <form method='GET'>\r\n              <label>Contact number:</label>\r\n              <input\r\n              type=\"number\"\r\n              name=\"contact\"\r\n              id=\"contact\"\r\n              value={userContact.contact}\r\n              placeholder=\"Enter your contact number\"\r\n              onChange={handleInputs}\r\n              ></input>\r\n              <br/>\r\n              <label>Pincode:</label>\r\n              <input\r\n              type=\"array\"\r\n              name=\"pincode\"\r\n              id=\"pincode\"\r\n              value={userContact.pincode}\r\n              placeholder=\"Enter pincode of the area\"\r\n              onChange={handleInputs}></input>\r\n              <button onClick={handleNotification}>Contact Us</button>\r\n          </form>\r\n      </div>\r\n      <div>\r\n        <div>\r\n        <table>\r\n        <thead>\r\n          <tr>\r\n            <th>BranchName</th>\r\n            <th>Pincode</th>\r\n            <th>Place</th>\r\n            <th>Branch Manager</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>{tableRows}</tbody>\r\n      </table>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default NewCust\r\n"]},"metadata":{},"sourceType":"module"}